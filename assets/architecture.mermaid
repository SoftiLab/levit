---
config:
  layout: elk
---
flowchart TB
    User["User Interaction"]

    subgraph LevitFlutter["levit_flutter"]
        direction TB
        LScope["LScope"]
        Widget["LScopedView / Widget"]
        LWatch["LWatch / LStatusBuilder"]
    end

    subgraph LevitDart["levit_dart"]
        direction TB
        Controller["LevitController"]
    end

    subgraph LevitDI["levit_di"]
        direction TB
        Scope["LevitScope"]
    end

    subgraph LevitReactive["levit_reactive"]
        direction TB
        State["Lx / LxReactive"]
        Subs["Subscriptions"]
    end

    %% Interaction Flow
    User --> Widget
    Widget -- "Finds & Calls" --> Controller
    Controller -- "Updates" --> State
    State -- "Notifies" --> LWatch
    LWatch -- "Rebuilds" --> Widget

    %% Structural Relationships
    LScope -- "Creates & Manages" --> Scope
    Scope -- "Stores" --> Controller
    Controller -- "Auto Disposes" --> State
    State -.-> Subs

    %% Styling
    style LevitFlutter fill:#C8E6C9,stroke:#2E7D32,color:#1B5E20
    style LevitDart fill:#FFF9C4,stroke:#FBC02D,color:#F57F17
    style LevitDI fill:#E1BEE7,stroke:#8E24AA,color:#4A148C
    style LevitReactive fill:#BBDEFB,stroke:#1976D2,color:#0D47A1
    style User fill:#F5F5F5,stroke:#9E9E9E,color:#212121
